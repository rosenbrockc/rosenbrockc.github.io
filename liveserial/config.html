<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Multiple Sensor Configuration File &mdash; liveserial 0.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="liveserial 0.0.2 documentation" href="index.html" />
    <link rel="next" title="Serial Port Simulation" href="simulate.html" />
    <link rel="prev" title="Data Plotting" href="plotting.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simulate.html" title="Serial Port Simulation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Data Plotting"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">liveserial 0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="multiple-sensor-configuration-file">
<h1>Multiple Sensor Configuration File<a class="headerlink" href="#multiple-sensor-configuration-file" title="Permalink to this headline">¶</a></h1>
<p><cite>liveserial</cite> can handle multiple serial ports simultaneously, as well as
multiple sensor streams per serial port. Since each device can have a different
data format arriving at the serial port, we need a way for the user to specify
what to expect for each sensor.</p>
<p>An example file is in the repo (see <a class="reference download internal" href="_downloads/sensors.cfg" download=""><code class="xref download docutils literal"><span class="pre">sensors.cfg</span></code></a>).</p>
<div class="section" id="sensor-configuration-options">
<h2>Sensor Configuration Options<a class="headerlink" href="#sensor-configuration-options" title="Permalink to this headline">¶</a></h2>
<p>Each sensor has its own section and should be labelled <cite>[sensor.name]</cite>, where
<cite>name</cite> is the user-defined sensor name. This sensor name is also used as the
name for the CSV files that are generated by the logging. Then, the following
possible options can be specified as <cite>key=value</cite> pairs:</p>
<ul class="simple">
<li><strong>key</strong> text that identifies this sensor when it is part of a multi-sensor
stream on a single port.</li>
<li><strong>format</strong> comma-separated list of python data types (<cite>str</cite>, <cite>int</cite>, <cite>float</cite>)
and <cite>key</cite> to specify the column location that the key will be at.</li>
<li><strong>port</strong> name of the serial port on the local machine that this sensor&#8217;s data
will arive at.</li>
<li><strong>label</strong> for plotting, what label to include on the <cite>y</cite> axis.</li>
<li><strong>value_index</strong> when multiple columns are present, this is the column index
(0-based) that will be used for plotting.</li>
<li><strong>logging</strong> comma-separated list of 0-based column indices to include in the
log file generated for this sensor.</li>
<li><strong>columns</strong> comma-separated list of custom column names to use in the CSV
files. There should be the same number of entries in <em>logging</em> and <em>columns</em>.</li>
</ul>
<p><strong>Note</strong>: if a <em>key</em> is not specified, then one will be auto-generated using the
<code class="xref py py-meth docutils literal"><span class="pre">id()</span></code> of the <a class="reference internal" href="monitor.html#liveserial.monitor.ComMonitorThread" title="liveserial.monitor.ComMonitorThread"><code class="xref py py-class docutils literal"><span class="pre">ComMonitorThread</span></code></a> object instance
assigned to the port where the data originated from.</p>
<p>Since the config file format is extensible, it is easy to add additional options
later on. The default <a class="reference external" href="https://docs.python.org/2/library/configparser.html#ConfigParser.ConfigParser" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">ConfigParser</span></code></a> is used to extract the
sections (sensors) and their options.</p>
</div>
<div class="section" id="port-configuration-options">
<h2>Port Configuration Options<a class="headerlink" href="#port-configuration-options" title="Permalink to this headline">¶</a></h2>
<p>In addition to the sensor configuration, port configuration can be specified
using the same config-file format. Port sections are named <cite>[port.portname]</cite>,
where <cite>portname</cite> is the name of the local port (should exist in the results
returned by <a class="reference internal" href="monitor.html#liveserial.monitor.enumerate_serial_ports" title="liveserial.monitor.enumerate_serial_ports"><code class="xref py py-func docutils literal"><span class="pre">enumerate_serial_ports()</span></code></a>). The following
options are possible:</p>
<ul class="simple">
<li><strong>port_baud</strong>: Rate at which information is transferred in a communication
channel (in bits/second). Default <cite>9600</cite>.</li>
<li><strong>port_stopbits</strong>: Serial communication parameter; one of <cite>(1, 1.5, 2)</cite>. Default
<cite>1</cite>.</li>
<li><strong>port_parity</strong>: Serial communication parameter; one of <cite>[&#8216;N&#8217;, &#8216;E&#8217;, &#8216;O&#8217;, &#8216;M&#8217;,
&#8216;S&#8217;]</cite>. Default <cite>N</cite>.</li>
<li><strong>port_timeout</strong>: The timeout used for reading the COM port. If this value is
low, the thread will return data in finer grained chunks, with more
accurate timestamps, but it will also consume more CPU. Default <cite>0.01</cite>.</li>
<li><strong>virtual</strong>: when True, additional serial port parameters are set so that the
monitor can work with <cite>socat</cite> or other virtual ports. Default <cite>0</cite>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Multiple Sensor Configuration File</a><ul>
<li><a class="reference internal" href="#sensor-configuration-options">Sensor Configuration Options</a></li>
<li><a class="reference internal" href="#port-configuration-options">Port Configuration Options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plotting.html"
                        title="previous chapter">Data Plotting</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simulate.html"
                        title="next chapter">Serial Port Simulation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/config.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simulate.html" title="Serial Port Simulation"
             >next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Data Plotting"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">liveserial 0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Conrad W. Rosenbrock.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>