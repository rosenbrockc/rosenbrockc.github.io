<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>matdb.yml Database Specification File &#8212; matdb 0.0.4 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">matdb 0.0.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="matdb-yml-database-specification-file">
<h1><cite>matdb.yml</cite> Database Specification File<a class="headerlink" href="#matdb-yml-database-specification-file" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the moment, <cite>matdb</cite> only supports calculation using VASP to get DFT
energies, forces, virials and hessian matrices.</p>
</div>
<p><cite>matdb.yml</cite> tracks the specification for a set of databases that
together represent all example configurations for generating an
interatomic potential. <a class="reference internal" href="databases.html"><span class="doc">matdb Database Types</span></a> discusses the database types
and how they work. In this document, we are interested mainly in how
to configure their options. The following options are available at the
top-level of the YAML file:</p>
<ol class="arabic simple">
<li><strong>title</strong>: user-selected identifier for the particular config
database.</li>
<li><strong>species</strong>: describes which elements are used to generate the
configurations.</li>
<li><strong>potcars</strong>: describes which pseudopotentials to use for each of
the elements in the calculation.</li>
<li><strong>root</strong>: where to store the folders generated by <cite>matdb</cite>.</li>
<li><strong>configs</strong>: basic or &#8220;seed&#8221; configurations to use for in
generating additional configurations.</li>
<li><strong>incar</strong>: describes the <em>default</em> parameters for the <cite>INCAR</cite> file
in VASP; this can be overridden at the database level.</li>
<li><strong>kpoints</strong>: parameters for defining how KPOINTS are selected for
the DFT calculation.</li>
<li><strong>execution</strong>: HPC parameters for the jobs that will be created
when running each of the databases. By default, only <cite>sbatch</cite> is
supported.</li>
<li><strong>databases</strong>: list of databases to generate for each of the
configurations specified in the <cite>config</cite> option.</li>
<li><strong>training</strong>: parameters for each of the GAP models that will be
combined to generate the interatomic potential.</li>
</ol>
<div class="section" id="species-option">
<h2><cite>species</cite> Option<a class="headerlink" href="#species-option" title="Permalink to this headline">¶</a></h2>
<p>The kinds of elements described in this list must be given in the
order that they appear in the POSCAR files. For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">species</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;Pd&#39;</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;Ag&#39;</span>
</pre></div>
</div>
<p>will generate POTCAR files with the <cite>Pd</cite> pseudopotential first.</p>
</div>
<div class="section" id="potcars-option">
<h2><cite>potcars</cite> Option<a class="headerlink" href="#potcars-option" title="Permalink to this headline">¶</a></h2>
<p>In order to generate the folders for the DFT calculations, <cite>matdb</cite>
needs to know where the POTCARs are and which one to use for each
element. By default, the POTCAR is selected based on the species
name. However, some species have multiple pseudopotentials defined. In
this case, the <em>suffix</em> for the pseudopotential file (i.e., everything
after the element name) can be specified by including a key in the
dictionary with the lower-case name of the element and its suffix.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">potcars</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">directory</span><span class="p p-Indicator">:</span> <span class="s">&#39;/fslhome/glh43/src&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">pseudo</span><span class="p p-Indicator">:</span> <span class="s">&#39;paw_PBE&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="s">&#39;04Jan2005&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">pd</span><span class="p p-Indicator">:</span> <span class="s">&#39;_pv&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><cite>directory</cite> is the full path to the folder that contains all the
pseudopotential types.</li>
<li><cite>pseudo</cite> specifies the type of pseudopotential to use. For VASP,
LDA, GGA and PBE are available, though other custom implementations
may also be available.</li>
<li><cite>version</cite> is the date of the pseudopotential. <cite>matdb</cite> will make sure
that the pseudopotentials used match this date to avoid mixing
incompatible potentials.</li>
<li><cite>pd</cite> is an example of overriding the pseudopotential to use for
<cite>Pd</cite>. Use the lower-case name of the element and then the suffix for
the file as described above.</li>
</ul>
</div>
<div class="section" id="configs-option">
<h2><cite>configs</cite> Option<a class="headerlink" href="#configs-option" title="Permalink to this headline">¶</a></h2>
<p>Here you specify each of the seed configurations to use for generating
databases. A seed configuration means different things depending on
the database type being generated. For example, phonon databases are
created by calculating the dynamical matrix for the seed configuration
(using DFPT) and then creating random modulations along the
eigenvector directions for the structure. Liquid databases use the
seed configuration as the starting point for a high-temperature
molecular dynamics run.</p>
<p>This option accepts a list of dictionaries where each dictionary has:</p>
<ol class="arabic simple">
<li><strong>name</strong>: user-selected name for the configuration.</li>
<li><strong>poscar</strong>: relative path of the POSCAR to <cite>root</cite>.</li>
</ol>
<p>For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">configs</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;PdAg25&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">poscar</span><span class="p p-Indicator">:</span> <span class="s">&#39;POSCAR-25&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;PdAg50&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">poscar</span><span class="p p-Indicator">:</span> <span class="s">&#39;POSCAR-50&#39;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&#39;PdAg75&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">poscar</span><span class="p p-Indicator">:</span> <span class="s">&#39;POSCAR-75&#39;</span>
</pre></div>
</div>
<p>sets up 3 seed configurations for the POSCAR files at
<cite>&lt;root&gt;/POSCAR-25</cite>, <cite>&lt;root&gt;/POSCAR-50</cite> and <cite>&lt;root&gt;/POSCAR-75</cite>.</p>
</div>
<div class="section" id="incar-option">
<h2><cite>incar</cite> Option<a class="headerlink" href="#incar-option" title="Permalink to this headline">¶</a></h2>
<p>Default parameters for VASP calculations can be specified using
<cite>incar</cite>. The options have exactly the same names as they would have in
the INCAR file and accept values as expected.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These parameters can be overridden by any of the database
specifications recorded later in the YAML file.</p>
</div>
</div>
<div class="section" id="kpoints-option">
<h2><cite>kpoints</cite> Option<a class="headerlink" href="#kpoints-option" title="Permalink to this headline">¶</a></h2>
<p>As for <cite>incar</cite>, you can specify how the KPOINTS should be chosen for
the DFT calculations. At the moment, only the Mueller kpoint scheme is
supported and the keywords are exactly as they would be specified in
the PRECALC file.</p>
</div>
<div class="section" id="execution-option">
<h2><cite>execution</cite> Option<a class="headerlink" href="#execution-option" title="Permalink to this headline">¶</a></h2>
<p><cite>matdb</cite> uses templates to build the bash files that submit jobs for
execution. It ships with templates that work with the SBATCH system,
but the templates can be adjusted easily using those as an
example. This dictionary has fields corresponding to the fields in the
template, and the values will be inserted directly.</p>
<p>Since database generation involves many calculations, the files are
setup to use job arrays by default.</p>
<ul class="simple">
<li><strong>template</strong>: name of the file in the <cite>matdb/templates</cite> directory
to use as the execution template.</li>
<li><strong>time</strong>: time in <em>hours</em> to run each job in the array for.</li>
<li><strong>ntasks</strong>: number of CPUs to request.</li>
<li><strong>nodes</strong>: number of nodes to spread CPUs over.</li>
<li><strong>mem_per_cpu</strong>: Amount of memory in <em>GB</em> for each CPU.</li>
<li><strong>job_name</strong>: job name for the scheduler.</li>
<li><strong>partition</strong>: QOS or special partition/queue to run the calculations on.</li>
<li><strong>array_limit</strong>: what is the maximum number of jobs to run concurrently.</li>
<li><strong>exec_path</strong>: path to the VASP executable to run in each directory
that <cite>matdb</cite> sets up.</li>
</ul>
</div>
<div class="section" id="databases-option">
<h2><cite>databases</cite> Option<a class="headerlink" href="#databases-option" title="Permalink to this headline">¶</a></h2>
<p>For each of the configurations specified in the <cite>configs</cite> section,
<cite>matdb</cite> will generate a database of configurations according to
settings in this section.</p>
<p>This option takes a list of dictionaries, where each dictionary has
settings peculiar to the type of database being constructed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can override the <cite>execution</cite>, <cite>incar</cite> and <cite>kpoints</cite>
settings for a particular database by including an option in its
dictionary that is formatted exactly the same way as described
above. However, you do <em>not</em> need to include all options, only
those you need to override must be specified.</p>
</div>
<div class="section" id="basic-phonon-database">
<h3>Basic Phonon Database<a class="headerlink" href="#basic-phonon-database" title="Permalink to this headline">¶</a></h3>
<p>In order to generate a dynamical matrix, several perturbed
configurations need to be generated using <cite>phonopy</cite>, each of these can
then be calculated with DFT to high accuracy and the resulting force
sets are used to approximate the second derivatives.</p>
<p>The <code class="xref py py-class docutils literal"><span class="pre">PhonBase</span></code> class generates these
configurations and sets up the VASP folders and execution
templates. For example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="s">&#39;phonon.PhononBase&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">kpoints</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">mindistance</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
  <span class="l l-Scalar l-Scalar-Plain">phonons</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">dim</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">mp</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">20</span><span class="p p-Indicator">,</span> <span class="nv">20</span><span class="p p-Indicator">,</span> <span class="nv">20</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>tells <cite>matdb</cite> to calculate the dynamical matrix for each of the
configurations using a relatively high kpoint density, a <cite>2x2x2</cite>
supercell and Monkhorst-Pack sampling of the BZ with density
<cite>20x20x20</cite>. The <cite>type</cite> parameter specifies the qualified name of the
sub-class that implements the database logic (relative to
<cite>matdb.database</cite>). The <cite>MP</cite> sampling is used to generate the DFT
answer for the phonon bands that will be plotted alongside the fitted
potentials later on.</p>
</div>
<div class="section" id="phonon-modulated-database">
<h3>Phonon Modulated Database<a class="headerlink" href="#phonon-modulated-database" title="Permalink to this headline">¶</a></h3>
<p>Once the dynamical matrices are available for each configuration, we
can module the seed configs to generate lots of unique structures for
training.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="s">&#39;phonon.PhononDatabase&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">nconfigs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
  <span class="l l-Scalar l-Scalar-Plain">sampling</span><span class="p p-Indicator">:</span> <span class="s">&#39;uniform&#39;</span>
  <span class="c1">#calibrate: 9</span>
  <span class="l l-Scalar l-Scalar-Plain">phonons</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">dim</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">2</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">mesh</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">13</span><span class="p p-Indicator">,</span> <span class="nv">13</span><span class="p p-Indicator">,</span> <span class="nv">13</span><span class="p p-Indicator">]</span>
  <span class="l l-Scalar l-Scalar-Plain">amplitude</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg25</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">15</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg50</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">12</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg75</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">18</span>
</pre></div>
</div>
<p>The <cite>type</cite> option once again points to a specific sub-class that
implements the database logic. Next, we specify the number of
configurations to generate (via random modulations) and how to sample
the frequency space of the phonons. For a given frequency, we can
extract an eigenvector that is used to module the atomic positions. By
default, we sample the available frequencies in the BZ uniformly so
that both high and low freuency phonon modulations are used.</p>
<p>The <cite>calibrate</cite> option sets up another database in the background to
calibrate the amplitudes of the modulations. As shown in this example,
you can also specify the <cite>amplitude</cite> manually for each
configuration. If <cite>amplitude</cite> is not specified <cite>matdb</cite> will try to
find the amplitude automatically using the calibration
database.</p>
<p>Calibration creates a set of modulated configurations for a random
frequency and displaces the atoms using a logarithmic space from 1
until <cite>10^1.7</cite> (largest number that made sense in our
experiments). We then look at forces for each configuration and choose
the largest amplitude for which the forces are still in the linear
regime.</p>
<p>The supercell is still specified using <cite>dim</cite> (in this case <cite>2x2x2</cite>),
but the DOS sampling for frequencies to module with happens on the
specified grid (specified by <cite>mesh</cite>). By choosing a finer mesh, the
resolution (and number) of frequency samples in the DOS
increases. Modulations are chosen from this distribution according to
the <cite>sampling</cite> setting.</p>
</div>
<div class="section" id="liquid-database">
<h3>Liquid Database<a class="headerlink" href="#liquid-database" title="Permalink to this headline">¶</a></h3>
<p>Liquid databases are constructed using sub-sampled MD calculations.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="s">&#39;liquid.LiquidDatabase&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">nconfigs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
  <span class="l l-Scalar l-Scalar-Plain">samplerate</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
  <span class="l l-Scalar l-Scalar-Plain">tstart</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg25</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2766</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg50</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3063</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg75</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3360</span>
  <span class="l l-Scalar l-Scalar-Plain">tend</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg25</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2800</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg50</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3100</span>
    <span class="l l-Scalar l-Scalar-Plain">PdAg75</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3400</span>
  <span class="l l-Scalar l-Scalar-Plain">incar</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">smass</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="l l-Scalar l-Scalar-Plain">potim</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.</span>
</pre></div>
</div>
<p>This tells <cite>matdb</cite> to run molecular dynamics for <cite>1000 x 100</cite> fs to
generate 1000 subsamples at intervals of 100 fs. The starting
temperature <cite>tstart</cite> for each seed configuration is set to be close to
its melting point. <cite>tend</cite> specifies the end temperature. These
settings are passed directly to the DFT calculation and behave as
documented there.</p>
<p>Notice that we also need to update some INCAR parameters to get MD to
work. We don&#8217;t have to specify all of them because the defaults from
earlier in the specification will be used if not overridden.</p>
</div>
<div class="section" id="training-options">
<h3><cite>training</cite> Options<a class="headerlink" href="#training-options" title="Permalink to this headline">¶</a></h3>
<p>Once a database of configurations is available, <cite>matdb</cite> can automate
the fits for you using these settings.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">training</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">configs</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;PdAg25&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;PdAg50&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;PdAg75&#39;</span><span class="p p-Indicator">]</span>
  <span class="l l-Scalar l-Scalar-Plain">execution</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">template</span><span class="p p-Indicator">:</span> <span class="s">&#39;run_teachsparse_ml.sh&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">time</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">ntasks</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="l l-Scalar l-Scalar-Plain">mem_per_cpu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    <span class="l l-Scalar l-Scalar-Plain">job_name</span><span class="p p-Indicator">:</span> <span class="s">&#39;AgPd</span><span class="nv"> </span><span class="s">GAP&#39;</span>
  <span class="l l-Scalar l-Scalar-Plain">split</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
  <span class="l l-Scalar l-Scalar-Plain">hessian_delta</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
  <span class="l l-Scalar l-Scalar-Plain">gap</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;2body&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;3body&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;soap&#39;</span><span class="p p-Indicator">]</span>
  <span class="l l-Scalar l-Scalar-Plain">2body</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">cutoff</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">6.0</span>
    <span class="l l-Scalar l-Scalar-Plain">cutoff_transition_width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
    <span class="l l-Scalar l-Scalar-Plain">n_sparse</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
  <span class="l l-Scalar l-Scalar-Plain">3body</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">cutoff</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3.5</span>
    <span class="l l-Scalar l-Scalar-Plain">cutoff_transition_width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
    <span class="l l-Scalar l-Scalar-Plain">n_sparse</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
  <span class="l l-Scalar l-Scalar-Plain">soap</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">l_max</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">12</span>
    <span class="l l-Scalar l-Scalar-Plain">n_max</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">12</span>
    <span class="l l-Scalar l-Scalar-Plain">cutoff</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5.0</span>
    <span class="l l-Scalar l-Scalar-Plain">n_sparse</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
    <span class="l l-Scalar l-Scalar-Plain">sparse_method</span><span class="p p-Indicator">:</span> <span class="s">&#39;file&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>configs</strong>: list of the seed configs to include in the fit; the
combined databases for each of these configs become the training
data for the fit.</li>
<li><strong>execution</strong>: as described above, this specifies the template for
executing the fits.</li>
<li><strong>split</strong>: how much data to use for training vs. validation.</li>
<li><strong>hessian_delta</strong>: if a hessian fit should be performed, then this
is the delta to include. Specifying a delta here causes <cite>matdb</cite> to
generate some hard-coded sparse points to include as a file in the
<cite>soap</cite> fit (which corresponds to <cite>sparse_method=file</cite>).</li>
<li><strong>gap</strong>: list of GAP models to include in the final potential.</li>
</ul>
<p>For each of the potential types specified in <cite>gap</cite> you can then add a
dictionary with parameters specific to that GAP (and which are passed
into the <cite>teach_sparse</cite> program). These work as documented there.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><cite>matdb.yml</cite> Database Specification File</a><ul>
<li><a class="reference internal" href="#species-option"><cite>species</cite> Option</a></li>
<li><a class="reference internal" href="#potcars-option"><cite>potcars</cite> Option</a></li>
<li><a class="reference internal" href="#configs-option"><cite>configs</cite> Option</a></li>
<li><a class="reference internal" href="#incar-option"><cite>incar</cite> Option</a></li>
<li><a class="reference internal" href="#kpoints-option"><cite>kpoints</cite> Option</a></li>
<li><a class="reference internal" href="#execution-option"><cite>execution</cite> Option</a></li>
<li><a class="reference internal" href="#databases-option"><cite>databases</cite> Option</a><ul>
<li><a class="reference internal" href="#basic-phonon-database">Basic Phonon Database</a></li>
<li><a class="reference internal" href="#phonon-modulated-database">Phonon Modulated Database</a></li>
<li><a class="reference internal" href="#liquid-database">Liquid Database</a></li>
<li><a class="reference internal" href="#training-options"><cite>training</cite> Options</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/matdbyml.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">matdb 0.0.4 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Conrad W. Rosenbrock.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.5.
    </div>
  </body>
</html>